<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Hubify ID</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/brutalism.css">
</head>

<body>
    <!-- Login View -->
    <div class="login-container" id="login-view">
        <div class="login-box brutal-box">
            <h1 class="login-box__title">üîê Admin Login</h1>
            <form class="login-box__form" id="login-form">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" class="input" id="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" class="input" id="password" required>
                </div>
                <button type="submit" class="btn btn--green" style="width: 100%;">Login</button>
            </form>
            <p style="text-align: center; margin-top: 1rem;">
                <a href="/" style="color: inherit;">‚Üê Back to Home</a>
            </p>
        </div>
    </div>

    <!-- Dashboard View -->
    <div class="hidden" id="dashboard-view">
        <!-- Header -->
        <header class="header">
            <div class="header__inner admin-header">
                <a href="/" class="header__logo">
                    <span>Hubify</span> ID <small style="font-size: 0.5em; opacity: 0.7;">ADMIN</small>
                </a>
                <nav class="admin-nav">
                    <button class="btn btn--small" id="btn-refresh-stats">üîÑ Refresh</button>
                    <button class="btn btn--small btn--red" id="btn-logout">Logout</button>
                </nav>
            </div>
        </header>

        <!-- Main Content -->
        <main class="admin-main">
            <!-- Stats -->
            <section class="section">
                <div class="section__header">
                    <h2 class="section__title">üìä Statistics</h2>
                </div>
                <div class="stats-grid" id="stats-grid">
                    <div class="stat-card brutal-box brutal-box--yellow">
                        <div class="stat-card__value" id="stat-today">-</div>
                        <div class="stat-card__label">Emails Today</div>
                    </div>
                    <div class="stat-card brutal-box brutal-box--green">
                        <div class="stat-card__value" id="stat-total">-</div>
                        <div class="stat-card__label">Total Emails</div>
                    </div>
                    <div class="stat-card brutal-box brutal-box--blue">
                        <div class="stat-card__value" id="stat-inboxes">-</div>
                        <div class="stat-card__label">Active Inboxes</div>
                    </div>
                    <div class="stat-card brutal-box">
                        <div class="stat-card__value" id="stat-expired">-</div>
                        <div class="stat-card__label">Expired (Pending)</div>
                    </div>
                </div>
            </section>

            <!-- Domain Management -->
            <section class="section">
                <div class="section__header">
                    <h2 class="section__title">üåê Domains</h2>
                    <button class="btn btn--small btn--green" id="btn-add-domain">+ Add Domain</button>
                </div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Domain</th>
                                <th>Status</th>
                                <th>Created</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="domains-table"></tbody>
                    </table>
                </div>
            </section>

            <!-- Cleanup -->
            <section class="section">
                <div class="section__header">
                    <h2 class="section__title">üßπ Cleanup</h2>
                    <button class="btn btn--small btn--yellow" id="btn-cleanup">Run Cleanup Now</button>
                </div>
                <p>Cleanup automatically runs every hour. Use this button to trigger manual cleanup.</p>
            </section>

            <!-- Recent Emails -->
            <section class="section">
                <div class="section__header">
                    <h2 class="section__title">üìß Recent Emails</h2>
                </div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>To</th>
                                <th>From</th>
                                <th>Subject</th>
                                <th>Received</th>
                            </tr>
                        </thead>
                        <tbody id="recent-emails-table"></tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <!-- Add Domain Modal -->
    <div class="modal" id="domain-modal">
        <div class="modal__content" style="max-width: 400px;">
            <div class="modal__header">
                <h3 class="modal__title">Add New Domain</h3>
                <button class="modal__close" id="domain-modal-close">‚úï</button>
            </div>
            <div class="modal__body">
                <form id="add-domain-form">
                    <div class="form-group">
                        <label for="new-domain">Domain Name</label>
                        <input type="text" class="input" id="new-domain" placeholder="example.com" required>
                    </div>
                    <button type="submit" class="btn btn--green" style="width: 100%;">Add Domain</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>

    <script type="module" src="./js/admin.js"></script>
</body>

</html>